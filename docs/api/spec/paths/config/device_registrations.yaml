---
/config/device_registrations:
  get:
    parameters:
    - description: The tenant ID to use for this request. Can only be used if the
        API user has access to other tenants. When empty, it will default to use the
        tenant attached to the token.
      in: header
      name: X-PacketFence-Tenant-Id
      required: 0
      schema:
        type: string
    - $ref: '#/components/parameters/cursor'
    responses:
      '200':
        content:
          application/json:
            schema:
              allOf:
              - $ref: '#/components/schemas/Iterable'
              - properties:
                  items:
                    properties:
                      allowed_devices:
                        description: List of OS which will be allowed to be register
                          via the self service portal.
                        items:
                          description: List of OS which will be allowed to be register
                            via the self service portal.
                          type: string
                        type: array
                      category:
                        description: The role to assign to devices registered from
                          the specific portal. If none is specified, the role of the
                          registrant is used.
                        type: string
                      description:
                        description: Description
                        type: string
                      id:
                        description: Profile Name
                        type: string
                    required:
                    - id
                    type: object
                type: object
        description: A list of connection profiles
      '400':
        $ref: '#/components/responses/BadRequest'
      '422':
        $ref: '#/components/responses/UnprocessableEntity'
  post:
    parameters:
    - description: The tenant ID to use for this request. Can only be used if the
        API user has access to other tenants. When empty, it will default to use the
        tenant attached to the token.
      in: header
      name: X-PacketFence-Tenant-Id
      required: 0
      schema:
        type: string
    requestBody:
      content:
        application/json:
          schema:
            properties:
              allowed_devices:
                description: List of OS which will be allowed to be register via the
                  self service portal.
                items:
                  description: List of OS which will be allowed to be register via
                    the self service portal.
                  type: string
                type: array
              category:
                description: The role to assign to devices registered from the specific
                  portal. If none is specified, the role of the registrant is used.
                type: string
              description:
                description: Description
                type: string
              id:
                description: Profile Name
                type: string
            required:
            - id
            type: object
      required: !!perl/scalar:boolean 1
    responses:
      '201':
        $ref: '#/components/responses/Created'
      '400':
        $ref: '#/components/responses/BadRequest'
      '409':
        $ref: '#/components/responses/Duplicate'
      '422':
        $ref: '#/components/responses/UnprocessableEntity'
