webpackJsonp([2],{"1/oy":function(e,t){},"3pGL":function(e,t){},"5AqT":function(e,t){},"9M+g":function(e,t){},D4uH:function(e,t,n){"use strict";var s={},a={name:"icon",props:{name:{type:String,validator:function(e){return e?e in s||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+e+'".\nPlease make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?s[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var e=this.icon,t=e.width,n=e.height;return Math.max(t,n)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(e,n,s){var a="fa-"+(i++).toString(16);return t[s]=a,' id="'+a+'"'}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(e,n,s,a){var i=n||a;return i&&t[i]?"#"+t[i]:e}),e}},mounted:function(){var e=this;if(!this.icon){this.$children.forEach(function(t){t.outerScale=e.normalizedScale});var t=0,n=0;this.$children.forEach(function(e){t=Math.max(t,e.width),n=Math.max(n,e.height)}),this.childrenWidth=t,this.childrenHeight=n,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(n-e.height)/2})}},register:function(e){for(var t in e){var n=e[t];n.paths||(n.paths=[]),n.d&&n.paths.push({d:n.d}),n.polygons||(n.polygons=[]),n.points&&n.polygons.push({points:n.points}),s[t]=n}},icons:s},i=870711;var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{class:e.klass,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon&&e.icon.paths?e._l(e.icon.paths,function(t,s){return n("path",e._b({key:"path-"+s},"path",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.polygons?e._l(e.icon.polygons,function(t,s){return n("polygon",e._b({key:"polygon-"+s},"polygon",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.raw?[n("g",{domProps:{innerHTML:e._s(e.raw)}})]:e._e()])],2)},staticRenderFns:[]};var o=n("VU/8")(a,r,!1,function(e){n("5AqT")},null,null);t.a=o.exports},F08C:function(e,t,n){"use strict";var s=n("pFYg"),a=n.n(s),i="#75C791",r="#bfcbd9",o="on",l="off",c=3,u=function(e,t){return"object"===(void 0===e?"undefined":a()(e))&&e.hasOwnProperty(t)},d=function(e){return e+"px"},h={name:"toggle-button",props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},sync:{type:Boolean,default:!1},color:{type:[String,Object],validator:function(e){return"object"===(void 0===e?"undefined":a()(e))?e.checked||e.unchecked:"string"==typeof e}},cssColors:{type:Boolean,default:!1},labels:{type:[Boolean,Object],default:!1,validator:function(e){return"object"===(void 0===e?"undefined":a()(e))?e.checked||e.unchecked:"boolean"==typeof e}},height:{type:Number,default:22},width:{type:Number,default:40}},computed:{className:function(){return["vue-js-switch",{toggled:this.toggled,disabled:this.disabled}]},ariaChecked:function(){return this.toggled.toString()},coreStyle:function(){return{width:d(this.width),height:d(this.height),backgroundColor:this.cssColors?null:this.colorCurrent,borderRadius:d(Math.round(this.height/2))}},buttonRadius:function(){return this.height-2*c},distance:function(){return d(this.width-this.height+c)},buttonStyle:function(){return{width:d(this.buttonRadius),height:d(this.buttonRadius),transform:this.toggled?"translate3d("+this.distance+", 3px, 0px)":null}},labelStyle:function(){return{lineHeight:d(this.height)}},colorChecked:function(){var e=this.color;return"object"!==(void 0===e?"undefined":a()(e))?e||i:u(e,"checked")?e.checked:i},colorUnchecked:function(){var e=this.color;return u(e,"unchecked")?e.unchecked:r},colorCurrent:function(){return this.toggled?this.colorChecked:this.colorUnchecked},labelChecked:function(){return u(this.labels,"checked")?this.labels.checked:o},labelUnchecked:function(){return u(this.labels,"unchecked")?this.labels.unchecked:l}},watch:{value:function(e){this.sync&&(this.toggled=!!e)}},data:function(){return{toggled:!!this.value}},methods:{toggle:function(e){this.toggled=!this.toggled,this.$emit("input",this.toggled),this.$emit("change",{value:this.toggled,srcEvent:e})}}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:e.className,attrs:{role:"checkbox","aria-checked":e.ariaChecked}},[n("input",{staticClass:"v-switch-input",attrs:{type:"checkbox"},on:{change:function(t){return t.stopPropagation(),e.toggle(t)}}}),e._v(" "),n("div",{staticClass:"v-switch-core",style:e.coreStyle},[n("div",{staticClass:"v-switch-button",style:e.buttonStyle})]),e._v(" "),e.labels?[e.toggled?n("span",{staticClass:"v-switch-label v-left",style:e.labelStyle,domProps:{innerHTML:e._s(e.labelChecked)}}):n("span",{staticClass:"v-switch-label v-right",style:e.labelStyle,domProps:{innerHTML:e._s(e.labelUnchecked)}})]:e._e(),e._v(" "),e._t("default")],2)},staticRenderFns:[]};var m=n("VU/8")(h,v,!1,function(e){n("FqoB")},"data-v-2c09f6a8",null);t.a=m.exports},FqoB:function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("fZjL"),a=n.n(s),i=n("BO1k"),r=n.n(i),o=n("7+uW"),l=n("TXmL"),c=n("e6fC"),u=n("D4uH"),d=(n("VAZJ"),n("D/Bo"),n("+NKz"),n("jzTu"),n("Gslk"),n("h+cp"),n("T4wd"),n("1UlI"),n("jn8r"),n("dkRl"),n("p7Nd"),n("CtZz"),n("SRX1"),n("xKmn"),n("pjPt"),n("NYxO")),h=n("//Fk"),v=n.n(h),m=n("BisV"),f=n.n(m),p=n("mtWM"),b=n.n(p),g=n("/ocq"),_=function(e){return tt.post("login",e).then(function(e){return tt.defaults.headers.common.Authorization="Bearer "+e.data.token,e})},y={namespaced:!0,state:{status:""},getters:{isLoading:function(e){return"loading"===e.status}},actions:{login:function(e,t){e.state,e.getters;var n=e.commit,s=e.dispatch;return new v.a(function(e,a){n("LOGIN_REQUEST"),_(t).then(function(t){var a=t.data.token;n("LOGIN_SUCCESS",a),s("session/update",a,{root:!0}).then(function(){e(t)})}).catch(function(e){n("LOGIN_ERROR",e.response),s("session/delete",null,{root:!0}),a(e)})})},logout:function(e){e.commit;var t=e.dispatch;return new v.a(function(e,n){t("session/delete",null,{root:!0}),e()})}},mutations:{LOGIN_REQUEST:function(e){e.status="loading"},LOGIN_SUCCESS:function(e,t){e.status="success"},LOGIN_ERROR:function(e,t){e.status="error",t&&t.data&&(e.message=t.data.message)}}},S={name:"Login",data:function(){return{username:"",password:"",submitted:!1,message:{}}},computed:{validForm:function(){return this.username.length>0&&this.password.length>0&&!this.$store.getters["$_auth/isLoading"]}},created:function(){this.$store.state.$_auth||this.$store.registerModule("$_auth",y)},mounted:function(){var e=this;"/logout"===this.$route.path?this.$store.dispatch("$_auth/logout").then(function(){e.message={level:"success",text:"You have logged out"}}):"/expire"===this.$route.path&&this.$store.dispatch("$_auth/logout").then(function(){e.message={level:"warning",text:"Your session has expired"}}),this.$refs.username.focus()},methods:{login:function(e){var t=this;this.submitted=!0,this.message=!1,this.$store.dispatch("$_auth/login",{username:this.username,password:this.password}).then(function(e){t.$router.push("/nodes")},function(e){e.response?t.message={level:"danger",text:e.response.data.message}:e.request&&(t.message={level:"danger",text:"A networking error occurred. Is the API server running?"}),t.submitted=!1})}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-row",{staticClass:"justify-content-md-center mt-3"},[n("b-col",{attrs:{md:"8",lg:"6",xl:"4"}},[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("b-card",{attrs:{"no-body":""}},[n("b-card-header",{directives:[{name:"t",rawName:"v-t",value:"Login to PacketFence Administration",expression:"'Login to PacketFence Administration'"}]}),e._v(" "),n("b-card-body",[n("b-alert",{attrs:{variant:e.message.level,show:e.message.text}},[e._v("\n                        "+e._s(e.$t(e.message.text))+"\n                    ")]),e._v(" "),n("b-form-group",{attrs:{label:e.$t("Username"),"label-for":"username",horizontal:""}},[n("b-form-input",{ref:"username",attrs:{id:"username",type:"text",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),n("b-form-group",{attrs:{label:e.$t("Password"),"label-for":"password",horizontal:""}},[n("b-form-input",{attrs:{id:"password",type:"password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),n("b-card-footer",[n("b-row",{attrs:{"align-h":"end"}},[n("b-col",{attrs:{cols:"9"}},[n("b-button",{attrs:{type:"submit",variant:"outline-primary",disabled:!e.validForm}},[e._v(e._s(e.$t("Login")))])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},C={path:"/",alias:["/login","/logout","/expire"],name:"login",component:n("VU/8")(S,E,!1,null,null,null).exports},k=n("woOf"),$=n.n(k),R=n("d7EF"),w=n.n(R),x=n("mvHQ"),D=n.n(x),A=n("gRE1"),P=n.n(A),T=b.a.create({baseURL:"https://"+window.location.hostname+":1443/netdata/"});T.interceptors.response.use(function(e){return e},function(e){return e.response?(401===e.response.status||404===e.response.status&&/token_info/.test(e.config.url))&&Ze.push("/expire"):e.request&&ht.commit("session/CHARTS_ERROR"),v.a.reject(e)});var U=T,N=function(){return U.get("localhost/api/v1/charts").then(function(e){return P()(e.data.charts)})},L=function(){return tt.get("services").then(function(e){return e.data.items})},O=function(e,t){return tt.get("service/"+e+"/"+t).then(function(e){return e.data})},I={namespaced:!0,state:{allCharts:[],charts:localStorage.getItem("dashboard-charts")?JSON.parse(localStorage.getItem("dashboard-charts")):[],services:[]},getters:{allModules:function(e){var t=[],n=!1,s=!0,a=!1,i=void 0;try{for(var o,l=r()(e.allCharts);!(s=(o=l.next()).done);s=!0){var c=o.value;c.module&&!t.includes(c.module)?t.push(c.module):c.module||(n=!0)}}catch(e){a=!0,i=e}finally{try{!s&&l.return&&l.return()}finally{if(a)throw i}}return n&&t.push("other"),t}},actions:{allCharts:function(e,t){var n=e.commit;N().then(function(e){n("ALL_CHARTS_SUCCESS",e)}).catch(function(e){n("session/CHARTS_ERROR",e.response,{root:!0})})},addChart:function(e,t){var n=e.state,s=e.commit;console.debug("adding chart "+t.id),s("CHARTS_UPDATED",{id:t.id,name:t.name,title:t.title,library:t.library,cols:t.cols}),localStorage.setItem("dashboard-charts",D()(n.charts))},getServices:function(e){var t=e.state,n=e.commit;L().then(function(e){n("SERVICES_UPDATED",e);var s=function(e,t){n("SERVICE_REQUEST",e),O(t.name,"status").then(function(t){n("SERVICE_UPDATED",{index:e,status:t})})},a=!0,i=!1,o=void 0;try{for(var l,c=r()(t.services.entries());!(a=(l=c.next()).done);a=!0){var u=l.value,d=w()(u,2);s(d[0],d[1])}}catch(e){i=!0,o=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw o}}}).catch(function(e){n("session/API_ERROR",e.response,{root:!0})})}},mutations:{ALL_CHARTS_SUCCESS:function(e,t){e.allCharts=t},CHARTS_UPDATED:function(e,t){e.charts.filter(function(e){return e.id===t.id}).length?console.warn("chart "+t.id+" already on dashboard"):e.charts.push(t)},SERVICES_UPDATED:function(e,t){e.services=t.map(function(e){return{name:e}})},SERVICE_REQUEST:function(e,t){o.a.set(e.services,t,$()(e.services[t],{loading:!0}))},SERVICE_UPDATED:function(e,t){t.status.enabled=1===t.status.enabled,t.status.alive=1===t.status.alive,t.status.loading=!1,o.a.set(e.services,t.index,$()(e.services[t.index],t.status))}}},M={name:"Status",props:{},data:function(){return{}},computed:{},created:function(){this.$store.state.$_status||this.$store.registerModule("$_status",I)},mounted:function(){}},V={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-row",[n("b-col",{staticClass:"bd-sidebar",attrs:{cols:"12",md:"3",xl:"2"}},[n("div",{staticClass:"bd-search d-flex align-items-center"},[n("b-form-input",{attrs:{type:"text",placeholder:"Search..."}}),e._v(" "),n("b-btn",{staticClass:"bd-search-docs-toggle d-md-none p-0 ml-3",attrs:{"aria-controls":"bd-docs-nav"}},[e._v("=")])],1),e._v(" "),n("b-collapse",{staticClass:"bd-links",attrs:{"is-nav":"",id:"bd-docs-nav"}},[n("div",{staticClass:"bd-toc-item active"},[n("b-nav",{staticClass:"bd-sidenav",attrs:{vertical:""}},[n("div",{staticClass:"bd-toc-link"},[e._v(e._s(e.$t("Status")))]),e._v(" "),n("b-nav-item",{attrs:{to:"/status/dashboard",replace:""}},[e._v(e._s(e.$t("Dashboard")))]),e._v(" "),n("b-nav-item",{directives:[{name:"can",rawName:"v-can:access",value:"services",expression:"'services'",arg:"access"}],attrs:{to:"/status/services",replace:""}},[e._v(e._s(e.$t("Services")))]),e._v(" "),n("b-nav-item",{directives:[{name:"can",rawName:"v-can:access",value:"reports",expression:"'reports'",arg:"access"}],attrs:{to:"/status/reports",replace:""}},[e._v(e._s(e.$t("Reports")))])],1)],1)])],1),e._v(" "),n("b-col",{attrs:{cols:"12",md:"9",xl:"10"}},[n("router-view")],1)],1)},staticRenderFns:[]},q=n("VU/8")(M,V,!1,null,null,null).exports,B={name:"Dashboard",props:{},data:function(){return{new_chart:{id:null,cols:6,library:"dygraph"}}},computed:{charts:function(){return this.$store.state.$_status.charts},all_modules:function(){return this.$store.getters["$_status/allModules"]},chart_dimensions:function(){return a()(this.chart.dimensions).join("|")},new_chart_valid:function(){return null!==this.new_chart.value&&this.new_chart.cols>0&&null!==this.new_chart.library}},methods:{moduleCharts:function(e){var t=[],n=!0,s=!1,a=void 0;try{for(var i,o=r()(this.$store.state.$_status.allCharts);!(n=(i=o.next()).done);n=!0){var l=i.value;(l.module&&l.module===e||!l.module&&"other"===e)&&t.push(l)}}catch(e){s=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(s)throw a}}return t},addChart:function(e){var t=this.$store.state.$_status.allCharts.find(function(t){return t.id===e.id}),n=$()(t,e);this.$store.dispatch("$_status/addChart",n),o.a.nextTick(function(){window.NETDATA.parseDom()})}},created:function(){},mounted:function(){var e=document.createElement("SCRIPT");window.netdataNoBootstrap=!0,e.setAttribute("src","//"+window.location.hostname+":1443/netdata/127.0.0.1/dashboard.js"),document.head.appendChild(e),this.$store.dispatch("$_status/allCharts",{})}},F={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",[e._l(e.charts,function(e){return n("b-col",{key:e.id,staticClass:"mt-3",attrs:{cols:e.cols}},[n("div",{attrs:{"data-netdata":e.name,"data-title":e.title,"data-chart-library":e.library,role:"application"}})])}),e._v(" "),n("b-col",{attrs:{cols:"3"}},[n("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"secondary"}},[n("b-form-select",{staticClass:"mb-1",model:{value:e.new_chart.id,callback:function(t){e.$set(e.new_chart,"id",t)},expression:"new_chart.id"}},[n("option",{attrs:{value:"null",disabled:""}},[e._v("Select a chart")]),e._v(" "),e._l(e.all_modules,function(t){return n("optgroup",{key:t,attrs:{label:t}},e._l(e.moduleCharts(t),function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])}))})],2),e._v(" "),n("b-form-select",{staticClass:"mb-1",model:{value:e.new_chart.library,callback:function(t){e.$set(e.new_chart,"library",t)},expression:"new_chart.library"}},[n("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select a library")]),e._v(" "),n("option",{attrs:{value:"dygraph"}},[e._v("dygraph")]),e._v(" "),n("option",{attrs:{value:"gauge"}},[e._v("gauge")]),e._v(" "),n("option",{attrs:{value:"easypiechart"}},[e._v("easypiechart")]),e._v(" "),n("option",{attrs:{value:"peity"}},[e._v("peity")])]),e._v(" "),n("b-form-select",{staticClass:"mb-3",model:{value:e.new_chart.cols,callback:function(t){e.$set(e.new_chart,"cols",t)},expression:"new_chart.cols"}},[n("option",{attrs:{disabled:""},domProps:{value:null}},[e._v("Select a number of columns")]),e._v(" "),e._l([1,2,3,4,5,6,7,8,9,10,11,12],function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})],2),e._v(" "),n("b-button",{attrs:{disabled:!e.new_chart_valid},on:{click:function(t){e.addChart(e.new_chart)}}},[e._v("Add chart")])],1)],1)],2)],1)},staticRenderFns:[]},H=n("VU/8")(B,F,!1,null,null,null).exports,z=n("F08C"),Q={name:"Services",components:{"toggle-button":z.a},props:{},computed:{services:function(){return this.$store.state.$_status.services}},data:function(){return{fields:[{key:"state",label:this.$i18n.t("State")},{key:"name",label:this.$i18n.t("Service")}]}},created:function(){this.$store.dispatch("$_status/getServices")}},j={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[n("b-card-header",[n("h4",{directives:[{name:"t",rawName:"v-t",value:"Services",expression:"'Services'"}]})]),e._v(" "),n("div",{staticClass:"card-body"},[n("b-table",{attrs:{small:"true",fields:e.fields,items:e.services},scopedSlots:e._u([{key:"state",fn:function(t){return[n("toggle-button",{staticClass:"d-inline-block",attrs:{value:t.item.enabled,sync:!0,disabled:t.item.loading,width:"90",labels:{checked:"enabled",unchecked:"disabled"}}}),e._v(" "),n("toggle-button",{staticClass:"d-inline-block",attrs:{value:t.item.alive,sync:!0,disabled:t.item.loading,width:"90",labels:{checked:"running",unchecked:"stopped"},color:{unchecked:"#be2125"}}})]}}])})],1)],1)},staticRenderFns:[]},G={path:"/status",name:"status",redirect:"/status/dashboard",component:q,children:[{path:"dashboard",component:H},{path:"services",component:n("VU/8")(Q,j,!1,null,null,null).exports}]},Y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-row",[n("b-col",{staticClass:"bd-sidebar",attrs:{cols:"12",md:"3",xl:"2"}},[n("div",{staticClass:"bd-search d-flex align-items-center"},[n("b-form-input",{attrs:{type:"text",placeholder:e.$t("Filter")}}),e._v(" "),n("b-btn",{staticClass:"bd-search-docs-toggle d-md-none p-0 ml-3",attrs:{"aria-controls":"bd-docs-nav"}},[e._v("=")])],1),e._v(" "),n("b-collapse",{staticClass:"bd-links",attrs:{"is-nav":"",id:"bd-docs-nav"}},[n("div",{staticClass:"bd-toc-item active"},[n("b-nav",{staticClass:"bd-sidenav",attrs:{vertical:""}},[n("div",{directives:[{name:"t",rawName:"v-t",value:"Nodes",expression:"'Nodes'"}],staticClass:"bd-toc-link"}),e._v(" "),n("b-nav-item",{attrs:{to:"/nodes/search",replace:""}},[e._v(e._s(e.$t("Search")))]),e._v(" "),n("b-nav-item",{attrs:{to:"/nodes/create",replace:""}},[e._v(e._s(e.$t("Create")))]),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t",value:"Standard Searches",expression:"'Standard Searches'"}],staticClass:"bd-toc-link"}),e._v(" "),n("b-nav-item",{attrs:{to:"search/openviolations"}},[e._v("Open Violations")]),e._v(" "),n("b-nav-item",{attrs:{to:"search/closedviolations"}},[e._v("Closed Violations")]),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t",value:"Saved Searches",expression:"'Saved Searches'"}],staticClass:"bd-toc-link"})],1)],1)])],1),e._v(" "),n("b-col",{staticClass:"mt-3 mb-3",attrs:{cols:"12",md:"9",xl:"10"}},[n("transition",{attrs:{name:"slide-bottom"}},[n("router-view")],1)],1)],1)},staticRenderFns:[]},K=n("VU/8")({name:"Nodes"},Y,!1,null,null,null).exports,X=function(e){return e.sort&&(e.sort=e.sort.join(",")),e.fields&&(e.fields=e.fields.join(",")),tt.get("nodes",{params:e}).then(function(e){return e.data})},W=function(e){return tt.post("nodes/search",e).then(function(e){return e.data})},J=function(e){return tt.get("node/"+e).then(function(e){return e.data.item})},Z=function(e){return tt.get("node/"+e+"/fingerbank_info").then(function(e){return e.data.item})},ee=function(e){return tt.get("ip4logs/open/"+e).then(function(e){return e.data.item})},te=function(e){return tt.get("ip4logs/history/"+e).then(function(e){return e.data.items})},ne=function(e){return tt.get("ip6logs/open/"+e).then(function(e){return e.data.item})},se=function(e){return tt.get("ip6logs/history/"+e).then(function(e){return e.data.items})},ae=function(e){var t={query:{op:"and",values:[{field:"mac",op:"equals",value:e}]},limit:100,cursor:"0"};return tt.post("locationlogs/search",t).then(function(e){return e.data.items})},ie=function(e){var t={query:{op:"and",values:[{field:"mac",op:"equals",value:e}]},limit:100,cursor:"0"};return tt.post("violations/search",t).then(function(e){return e.data.items})},re=function(e){return tt.post("nodes",e).then(function(e){return e.data})},oe=function(e){return tt.patch("node/"+e.mac,e).then(function(e){return e.data})},le=function(e){return tt.delete("node/"+e)},ce={namespaced:!0,state:{items:[],nodes:{},message:"",nodeStatus:"",searchStatus:"",searchFields:[],searchQuery:null,searchSortBy:"mac",searchSortDesc:!1,searchMaxPageNumber:1,searchPageSize:localStorage.getItem("nodes-search-limit")||10,visibleColumns:JSON.parse(localStorage.getItem("nodes-visible-columns"))||!1},getters:{isLoading:function(e){return"loading"===e.nodeStatus},isLoadingResults:function(e){return"loading"===e.searchStatus}},actions:{setSearchFields:function(e,t){(0,e.commit)("SEARCH_FIELDS_UPDATED",t)},setSearchQuery:function(e,t){var n=e.commit;n("SEARCH_QUERY_UPDATED",t),n("SEARCH_MAX_PAGE_NUMBER_UPDATED",1)},setSearchPageSize:function(e,t){var n=e.commit;localStorage.setItem("nodes-search-limit",t),n("SEARCH_LIMIT_UPDATED",t),n("SEARCH_MAX_PAGE_NUMBER_UPDATED",1)},setSearchSorting:function(e,t){var n=e.commit;n("SEARCH_SORT_BY_UPDATED",t.sortBy),n("SEARCH_SORT_DESC_UPDATED",t.sortDesc),n("SEARCH_MAX_PAGE_NUMBER_UPDATED",1)},setVisibleColumns:function(e,t){var n=e.commit;localStorage.setItem("nodes-visible-columns",D()(t)),n("VISIBLE_COLUMNS_UPDATED",t)},search:function(e,t){var n=e.state,s=(e.getters,e.commit),a=(e.dispatch,[n.searchSortDesc?n.searchSortBy+" DESC":n.searchSortBy]),i={cursor:n.searchPageSize*(t-1),limit:n.searchPageSize,fields:n.searchFields,sort:a},r=n.searchQuery?W($()(i,{query:n.searchQuery})):X(i);if("loading"!==n.searchStatus)return new v.a(function(e,t){s("SEARCH_REQUEST"),r.then(function(t){s("SEARCH_SUCCESS",t),e(t)}).catch(function(e){s("SEARCH_ERROR",e.response),t(e)})})},exists:function(e,t){var n=e.commit,s={fields:["mac"],limit:1,query:{op:"and",values:[{field:"mac",op:"equals",value:t}]}};return new v.a(function(e,t){n("SEARCH_REQUEST"),W(s).then(function(s){n("SEARCH_SUCCESS"),s.items.length>0?e(!0):t(new Error("Unknown MAC"))}).catch(function(e){n("SEARCH_ERROR",e.response),t(e)})})},getNode:function(e,t){var n=e.state,s=e.commit,a={fingerbank:{}};return n.nodes[t]?v.a.resolve(n.nodes[t]):(s("NODE_REQUEST"),J(t).then(function(e){$()(a,e),null===a.category_id&&(a.category_id="unreg"),s("NODE_REPLACED",a);var n={};ee(t).then(function(e){$()(n,e),n.active="0000-00-00 00:00:00"===e.end_time}).catch(function(){$()(n,{active:!1})}).finally(function(){te(t).then(function(e){e&&e.length>0&&($()(n,{history:e}),n.active||n.end_time||(n.end_time=e[0].end_time))}).catch(function(){}).finally(function(){s("NODE_UPDATED",{mac:t,prop:"ip4",data:n})})});var i={};ne(t).then(function(e){$()(i,e),i.active="0000-00-00 00:00:00"===e.end_time}).catch(function(){$()(i,{active:!1})}).finally(function(){se(t).then(function(e){e&&e.length>0&&($()(i,{history:e}),i.active||i.end_time||(i.end_time=e[0].end_time))}).catch(function(){}).finally(function(){s("NODE_UPDATED",{mac:t,prop:"ip6",data:i})})}),ae(t).then(function(e){s("NODE_UPDATED",{mac:t,prop:"locations",data:e})}),ie(t).then(function(e){s("NODE_UPDATED",{mac:t,prop:"violations",data:e})});var r={};return Z(t).then(function(e){$()(r,e)}).catch(function(){}).finally(function(){s("NODE_UPDATED",{mac:t,prop:"fingerbank",data:r})}),a}))},createNode:function(e,t){var n=e.commit;return n("NODE_REQUEST"),t.unreg_date&&t.unreg_time&&(t.unregdate=t.unreg_date+" "+t.unreg_time),new v.a(function(e,s){re(t).then(function(s){n("NODE_REPLACED",t),e(s)}).catch(function(e){n("NODE_ERROR",e.response),s(e)})})},updateNode:function(e,t){var n=e.commit;return n("NODE_REQUEST"),new v.a(function(e,s){oe(t).then(function(s){n("NODE_REPLACED",t),e(s)}).catch(function(e){n("NODE_ERROR",e.response),s(e)})})},deleteNode:function(e,t){var n=e.commit;return n("NODE_REQUEST"),new v.a(function(e,s){le(t).then(function(s){n("NODE_DESTROYED",t),e(s)}).catch(function(e){n("NODE_ERROR",e.response),s(e)})})}},mutations:{SEARCH_FIELDS_UPDATED:function(e,t){e.searchFields=t},SEARCH_QUERY_UPDATED:function(e,t){e.searchQuery=t},SEARCH_SORT_BY_UPDATED:function(e,t){e.searchSortBy=t},SEARCH_SORT_DESC_UPDATED:function(e,t){e.searchSortDesc=t},SEARCH_MAX_PAGE_NUMBER_UPDATED:function(e,t){e.searchMaxPageNumber=t},SEARCH_LIMIT_UPDATED:function(e,t){e.searchPageSize=t},SEARCH_REQUEST:function(e){e.searchStatus="loading"},SEARCH_SUCCESS:function(e,t){if(e.searchStatus="success",t){e.items=t.items;var n=Math.floor(t.nextCursor/e.searchPageSize)+1;n>e.searchMaxPageNumber&&(e.searchMaxPageNumber=n)}},SEARCH_ERROR:function(e,t){e.searchStatus="error",t&&t.data&&(e.message=t.data.message)},VISIBLE_COLUMNS_UPDATED:function(e,t){e.visibleColumns=t},NODE_REQUEST:function(e){e.nodeStatus="loading",e.message=""},NODE_REPLACED:function(e,t){e.nodeStatus="success",o.a.set(e.nodes,t.mac,t)},NODE_UPDATED:function(e,t){e.nodeStatus="success",o.a.set(e.nodes[t.mac],t.prop,t.data)},NODE_DESTROYED:function(e,t){e.nodeStatus="success",o.a.set(e.nodes,t,null)},NODE_ERROR:function(e,t){e.nodeStatus="error",t&&t.data&&(e.message=t.data.message)}}},ue=n("Gu7T"),de=n.n(ue),he=n("kL7M"),ve=n("RYjK"),me={name:"pf-search-condition",components:{},props:{model:{type:Object},fields:{type:Array},store:{type:Object},isQuick:{type:Boolean,default:!1},isRoot:{type:Boolean,default:!1}},data:function(){return{substringValueType:he.c.TEXT,selectValueType:he.c.SELECT}},computed:{},methods:{operators:function(e){var t=this,n=this.fields.findIndex(function(t){return e.field===t.value});if(n>=0){var s=this.fields[n];return Object(he.e)(s.types).map(function(n,s,a){return 0!==s||a.includes(e.op)||(e.op=n),{value:n,text:t.$i18n.t(n)}})}},values:function(e){var t=this.fields.findIndex(function(t){return e.field===t.value}),n=[];if(t>=0){var s=this.fields[t];n=Object(he.f)(s.types,e.op,this.$store),n.length&&n.findIndex(function(t){return t.value===e.value})<0&&o.a.set(e,"value",n[0].value)}return n},isFieldType:function(e,t){var n=!1,s=this.fields.findIndex(function(e){return t.field===e.value});if(s>=0){var i=this.fields[s],o=!1,l=!0,c=!1,u=void 0;try{for(var d,h=r()(i.types);!(l=(d=h.next()).done);l=!0){var v=d.value,m=he.a[v],f=!0,p=!1,b=void 0;try{for(var g,_=r()(a()(m));!(f=(g=_.next()).done);f=!0){var y=g.value;if(y===t.op){n=m[y]===e,o=!0;break}}}catch(e){p=!0,b=e}finally{try{!f&&_.return&&_.return()}finally{if(p)throw b}}if(o)break}}catch(e){c=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}}return n},removeCondition:function(){this.$emit("delete-search-condition",this.model)},addRule:function(){this.model.values.push({field:this.fields[0].value,op:null,value:null})},addOp:function(){this.model.values.push({op:"and",values:[{field:this.fields[0].value,op:null,value:null}]})},removeRule:function(e){this.model.values.splice(e,1)},onRemoveCondition:function(e){var t=this.model.values.indexOf(e);t>=0&&this.model.values.splice(t,1)}},mounted:function(){}},fe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-list-group-item",[e.isQuick?e._e():n("b-form-row",{staticClass:"align-self-center justify-content-between",attrs:{"align-v":"center","align-h":"between"}},[n("b-form-radio-group",{model:{value:e.model.op,callback:function(t){e.$set(e.model,"op",t)},expression:"model.op"}},[n("b-form-radio",{attrs:{value:"or"}},[e._v(e._s(e.$t("any")))]),e._v(" "),n("b-form-radio",{attrs:{value:"and"}},[e._v(e._s(e.$t("and")))])],1),e._v(" "),e.isRoot?e._e():n("b-button",{attrs:{variant:"link-secondary"},on:{click:function(t){e.removeCondition()}}},[n("icon",{attrs:{name:"minus-circle"}})],1)],1),e._v(" "),e._l(e.model.values,function(t,s){return n("div",{key:s},[t.field?n("div",[n("b-form-row",{attrs:{"align-v":"center"}},[n("b-form-select",{attrs:{options:e.fields},model:{value:t.field,callback:function(n){e.$set(t,"field",n)},expression:"rule.field"}}),e._v(" "),n("b-form-select",{attrs:{options:e.operators(t)},model:{value:t.op,callback:function(n){e.$set(t,"op",n)},expression:"rule.op"}}),e._v(" "),e.isFieldType(e.substringValueType,t)?n("b-form-input",{attrs:{type:"text"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"rule.value"}}):e.isFieldType(e.selectValueType,t)?n("b-form-select",{attrs:{options:e.values(t)},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"rule.value"}}):e._e(),e._v(" "),s>0?n("b-button",{attrs:{variant:"link-secondary"},on:{click:function(t){e.removeRule(s)}}},[n("icon",{attrs:{name:"minus-circle"}})],1):e._e()],1)],1):n("b-list-group",[n("pf-search-condition",{attrs:{model:t,fields:e.fields,isQuick:e.isQuick},on:{"delete-search-condition":function(n){e.onRemoveCondition(t)}}})],1)],1)}),e._v(" "),e.isQuick?e._e():n("b-form-row",{staticClass:"align-self-center justify-content-end",attrs:{"align-v":"center","align-h":"end"}},[n("b-button",{attrs:{variant:"link-secondary"},on:{click:function(t){e.addRule()}}},[n("icon",{attrs:{name:"plus-circle"}})],1),e._v(" "),n("b-button",{attrs:{variant:"link-secondary"},on:{click:function(t){e.addOp()}}},[n("icon",{attrs:{name:"arrow-circle-right"}})],1)],1)],2)},staticRenderFns:[]},pe={name:"pf-search",components:{"pf-search-condition":n("VU/8")(me,fe,!1,null,null,null).exports},props:{condition:{type:Object},advancedMode:{type:Boolean},fields:{type:Array},quickWithFields:{type:Boolean,default:!0},quickPlaceholder:{type:String,default:"Search"},store:{type:Object}},data:function(){return{quickValue:""}},computed:{},methods:{onSubmit:function(e){var t=this.condition;this.advancedMode||(this.quickWithFields?t.values.splice(1):t=this.quickValue),this.$emit("submit-search",t)},onReset:function(e){this.condition={op:"and",values:[{field:this.fields[0].value,op:null,value:null}]},this.$emit("reset-search")}},mounted:function(){this.advancedMode||this.quickWithFields||(this.quickValue=this.condition.values[0].value)}},be={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-body"},[e.advancedMode?e._e():n("div",{staticClass:"textright"},[e.quickWithFields?n("b-form",{attrs:{inline:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)},reset:function(t){return t.preventDefault(),e.onReset(t)}}},[n("pf-search-condition",{attrs:{model:e.condition,fields:e.fields,store:e.store,isQuick:!0}}),e._v(" "),n("b-button",{attrs:{type:"reset",variant:"outline-secondary"}},[e._v(e._s(e.$t("Reset")))]),e._v(" "),n("b-button",{attrs:{type:"submit",variant:"outline-primary"}},[e._v(e._s(e.$t("Search")))])],1):n("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)},reset:function(t){return t.preventDefault(),e.onReset(t)}}},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-prepend"},[n("div",{staticClass:"input-group-text"},[n("icon",{attrs:{name:"search"}})],1)]),e._v(" "),n("b-form-input",{attrs:{type:"text",placeholder:e.quickPlaceholder},model:{value:e.quickValue,callback:function(t){e.quickValue=t},expression:"quickValue"}}),e._v(" "),n("b-button",{staticClass:"ml-1",attrs:{type:"submit",variant:"outline-primary"}},[e._v(e._s(e.$t("Search")))])],1)])],1),e._v(" "),e.advancedMode?n("div",[n("b-form",{attrs:{inline:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)},reset:function(t){return t.preventDefault(),e.onReset(t)}}},[n("b-list-group",[n("pf-search-condition",{attrs:{model:e.condition,fields:e.fields,store:e.store,isRoot:!0}})],1),e._v(" "),n("div",[n("b-button",{attrs:{type:"reset",variant:"outline-secondary"}},[e._v(e._s(e.$t("Reset")))]),e._v(" "),n("b-button",{attrs:{type:"submit",variant:"outline-primary"}},[e._v(e._s(e.$t("Search")))])],1)],1)],1):e._e()])},staticRenderFns:[]},ge=n("VU/8")(pe,be,!1,null,null,null).exports,_e={name:"NodesSearch",components:{"pf-fingerbank-score":ve.a,"pf-search":ge,"toggle-button":z.a},props:{namedSearch:String,tableValues:{type:Array,default:[]},checkedRows:{type:Array,default:[]},checkedAll:{type:Boolean,default:!1},lastIndex:{type:Number,default:null}},data:function(){return{advancedMode:!1,fields:[{value:"mac",text:"MAC Address",types:[he.b.SUBSTRING]},{value:"computername",text:"Computer Name",types:[he.b.SUBSTRING]},{value:"bypass_role_id",text:"Bypass Role",types:[he.b.ROLE,he.b.SUBSTRING]},{value:"locationlog.connection_type",text:"Connection Type",types:[he.b.CONNECTION_TYPE]},{value:"category_id",text:"Node Role",types:[he.b.ROLE,he.b.SUBSTRING]},{value:"voip",text:"VoIP",types:[he.b.BOOL]}],columns:[{key:"actions",label:this.$i18n.t("Actions"),sortable:!1,visible:!0,locked:!0,formatter:function(e,t,n){return n.mac}},{key:"status",label:this.$i18n.t("Status"),sortable:!0,visible:!0},{key:"online",label:this.$i18n.t("Online/Offline"),sortable:!0,visible:!0},{key:"mac",label:this.$i18n.t("MAC Address"),sortable:!0,visible:!0},{key:"detect_date",label:this.$i18n.t("Detected Date"),sortable:!0,visible:!1},{key:"regdate",label:this.$i18n.t("Registration Date"),sortable:!0,visible:!1},{key:"unregdate",label:this.$i18n.t("Unregistration Date"),sortable:!0,visible:!1},{key:"computername",label:this.$i18n.t("Computer Name"),sortable:!0,visible:!0},{key:"pid",label:this.$i18n.t("Owner"),sortable:!0,visible:!0},{key:"ip4log.ip",label:this.$i18n.t("IP Address"),sortable:!0,visible:!0},{key:"tenant_id",label:this.$i18n.t("Tenant"),sortable:!0,visible:!0},{key:"device_class",label:this.$i18n.t("Device Class"),sortable:!0,visible:!0},{key:"device_score",label:this.$i18n.t("Device Score"),sortable:!0,visible:!1},{key:"device_type",label:this.$i18n.t("Device Type"),sortable:!0,visible:!0},{key:"device_version",label:this.$i18n.t("Device Version"),sortable:!0,visible:!1},{key:"dhcp6_enterprise",label:this.$i18n.t("DHCPv6 Enterprise"),sortable:!0,visible:!1},{key:"dhcp6_fingerprint",label:this.$i18n.t("DHCPv6 Fingerprint"),sortable:!0,visible:!1},{key:"dhcp_fingerprint",label:this.$i18n.t("DHCP Fingerprint"),sortable:!0,visible:!1},{key:"category_id",label:this.$i18n.t("Role"),sortable:!0,visible:!0},{key:"locationlog.switch",label:this.$i18n.t("Switch Identifier"),sortable:!0,visible:!1},{key:"locationlog.switch_ip",label:this.$i18n.t("Switch IP Address"),sortable:!0,visible:!1},{key:"locationlog.switch_mac",label:this.$i18n.t("Switch MAC Address"),sortable:!0,visible:!1},{key:"locationlog.ssid",label:this.$i18n.t("SSID"),sortable:!0,visible:!1},{key:"locationlog.vlan",label:this.$i18n.t("VLAN"),sortable:!0,visible:!1},{key:"bypass_vlan",label:this.$i18n.t("Bypass VLAN"),sortable:!0,visible:!1},{key:"bypass_role_id",label:this.$i18n.t("Bypass Role"),sortable:!0,visible:!1},{key:"notes",label:this.$i18n.t("Notes"),sortable:!0,visible:!1},{key:"voip",label:this.$i18n.t("VoIP"),sortable:!0,visible:!1},{key:"last_arp",label:this.$i18n.t("Last ARP"),sortable:!0,visible:!1},{key:"last_dhcp",label:this.$i18n.t("Last DHCP"),sortable:!0,visible:!1},{key:"locationlog.session_id",label:this.$i18n.t("Session ID"),sortable:!0,visible:!1},{key:"machine_account",label:this.$i18n.t("Machine Account"),sortable:!0,visible:!1},{key:"time_balance",label:this.$i18n.t("Time Balance"),sortable:!0,visible:!1},{key:"user_agent",label:this.$i18n.t("User Agent"),sortable:!0,visible:!1}],condition:null,requestPage:1,currentPage:1,pageSizeLimit:10}},computed:{isLoading:function(){return this.$store.getters["$_nodes/isLoadingResults"]},sortBy:function(){return this.$store.state.$_nodes.searchSortBy},sortDesc:function(){return this.$store.state.$_nodes.searchSortDesc},visibleColumns:function(){return this.columns.filter(function(e){return e.visible})},searchFields:function(){return this.visibleColumns.filter(function(e){return!e.locked}).map(function(e){return e.key})},items:function(){return this.$store.state.$_nodes.items},totalRows:function(){return this.$store.state.$_nodes.searchMaxPageNumber*this.pageSizeLimit},roles:function(){return this.$store.state.config.roles},violations:function(){return this.$store.getters["config/sortedViolations"]}},methods:{onSearch:function(e){var t=this;this.requestPage=1,this.$store.dispatch("$_nodes/setSearchQuery",e),this.$store.dispatch("$_nodes/search",this.requestPage).then(function(){t.currentPage=t.requestPage,t.condition=e}).catch(function(){t.requestPage=t.currentPage})},onReset:function(){this.requestPage=1,this.$store.dispatch("$_nodes/setSearchQuery",void 0),this.$store.dispatch("$_nodes/search",this.requestPage)},onPageSizeChange:function(){this.requestPage=1,this.$store.dispatch("$_nodes/setSearchPageSize",this.pageSizeLimit),this.$store.dispatch("$_nodes/search",this.requestPage)},onPageChange:function(){var e=this;this.$store.dispatch("$_nodes/search",this.requestPage).then(function(){e.currentPage=e.requestPage}).catch(function(){e.requestPage=e.currentPage})},onSortingChanged:function(e){this.requestPage=1,this.$store.dispatch("$_nodes/setSearchSorting",e),this.$store.dispatch("$_nodes/search",this.requestPage)},toggleColumn:function(e){e.visible=!e.visible,this.$store.dispatch("$_nodes/setVisibleColumns",this.columns.filter(function(e){return e.visible}).map(function(e){return e.key})),this.$store.dispatch("$_nodes/setSearchFields",this.searchFields),e.visible&&this.$store.dispatch("$_nodes/search",this.requestPage)},onRowClick:function(e,t){this.$router.push({name:"node",params:{mac:e.mac}})},onCheckedAllChange:function(e){this.checkedRows=this.checkedAll?this.tableValues:[]},clearChecked:function(){this.checkedAll=!1,this.checkedRows=[],this.lastIndex=null},toggleCheckbox:function(e,t){var n=this.lastIndex;if(this.lastIndex=t,null!==n&&t!==n&&e.shiftKey){var s,a=this.items.slice(Math.min(t,n),Math.max(t,n)+1);if(e.currentTarget.checked)(s=this.checkedRows).push.apply(s,de()(a)),this.checkedRows=this.checkedRows.reduce(function(e,t){return e.includes(t)?e:[].concat(de()(e),[t])},[]);else this.checkedRows=this.checkedRows.reduce(function(e,t){return a.includes(t)?e:[].concat(de()(e),[t])},[])}},applyClearViolation:function(){console.log(["applyClearViolation",this.checkedRows])},applyRegister:function(){console.log(["applyRegister",this.checkedRows])},applyDeregister:function(){console.log(["applyDeregister",this.checkedRows])},applyReevaluateAccess:function(){console.log(["applyReevaluateAccess",this.checkedRows])},applyRestartSwitchport:function(){console.log(["applyRestartSwitchport",this.checkedRows])},applyRole:function(e){console.log(["applyRole",e,this.checkedRows])},applyBypassRole:function(e){console.log(["applyBypassRole",e,this.checkedRows])},applyViolation:function(e){console.log(["applyViolation",e,this.checkedRows])},onKeydown:function(e){switch(!0){case e.altKey&&65===e.keyCode:e.preventDefault(),this.checkedRows=this.tableValues;break;case e.altKey&&78===e.keyCode:e.preventDefault(),this.checkedRows=[]}}},watch:{checkedRows:function(e,t){this.checkedAll=this.tableValues.length===e.length&&e.length>0;var n=this.checkedRows;this.items.forEach(function(e,t,s){s[t]._rowVariant=n.includes(e)?"info":""})},condition:function(e,t){e!==t&&this.clearChecked()},requestPage:function(e,t){e!==t&&this.clearChecked()},currentPage:function(e,t){e!==t&&this.clearChecked()},pageSizeLimit:function(e,t){e!==t&&this.clearChecked()}},created:function(){if(this.$store.dispatch("config/getRoles"),this.$store.dispatch("config/getViolations"),this.pageSizeLimit=this.$store.state.$_nodes.searchPageSize,this.condition=this.$store.state.$_nodes.searchQuery,this.condition||(this.condition={op:"and",values:[{field:this.fields[0].value,op:null,value:null}]}),this.$store.state.$_nodes.visibleColumns){var e=this.$store.state.$_nodes.visibleColumns;this.columns.forEach(function(t,n,s){s[n].visible=e.includes(t.key)})}this.$store.dispatch("$_nodes/setSearchFields",this.searchFields),this.$store.dispatch("$_nodes/search",this.requestPage)},mounted:function(){document.addEventListener("keydown",this.onKeydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.onKeydown)}},ye={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{attrs:{"no-body":""}},[n("b-card-header",[n("div",{staticClass:"float-right"},[n("toggle-button",{model:{value:e.advancedMode,callback:function(t){e.advancedMode=t},expression:"advancedMode"}},[e._v(e._s(e.$t("Advanced")))])],1),e._v(" "),n("h4",{directives:[{name:"t",rawName:"v-t",value:"Search Nodes",expression:"'Search Nodes'"}],staticClass:"mb-0"})]),e._v(" "),n("pf-search",{attrs:{fields:e.fields,store:e.$store,"advanced-mode":e.advancedMode,condition:e.condition},on:{"submit-search":e.onSearch,"reset-search":e.onReset}}),e._v(" "),n("div",{staticClass:"card-body"},[n("b-row",{attrs:{"align-h":"between","align-v":"center"}},[n("b-col",{staticClass:"mr-auto",attrs:{cols:"auto"}},[n("b-dropdown",{attrs:{size:"sm",variant:"link",disabled:e.isLoading||0===e.checkedRows.length,"no-caret":""}},[n("template",{slot:"button-content"},[n("icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",modifiers:{hover:!0,right:!0}}],attrs:{name:"cogs",title:e.$t("Actions")}})],1),e._v(" "),n("b-dropdown-item",{on:{click:function(t){e.applyClearViolation()}}},[n("icon",{staticClass:"position-absolute mt-1",attrs:{name:"ban"}}),e._v(" "),n("span",{staticClass:"ml-4"},[e._v(e._s(e.$t("Clear Violation")))])],1),e._v(" "),n("b-dropdown-item",{on:{click:function(t){e.applyRegister()}}},[n("icon",{staticClass:"position-absolute mt-1",attrs:{name:"plus-circle"}}),e._v(" "),n("span",{staticClass:"ml-4"},[e._v(e._s(e.$t("Register")))])],1),e._v(" "),n("b-dropdown-item",{on:{click:function(t){e.applyDeregister()}}},[n("icon",{staticClass:"position-absolute mt-1",attrs:{name:"minus-circle"}}),e._v(" "),n("span",{staticClass:"ml-4"},[e._v(e._s(e.$t("Deregister")))])],1),e._v(" "),n("b-dropdown-item",{on:{click:function(t){e.applyReevaluateAccess()}}},[n("icon",{staticClass:"position-absolute mt-1",attrs:{name:"sync"}}),e._v(" "),n("span",{staticClass:"ml-4"},[e._v(e._s(e.$t("Revaluate Access")))])],1),e._v(" "),n("b-dropdown-item",{on:{click:function(t){e.applyRestartSwitchport()}}},[n("icon",{staticClass:"position-absolute mt-1",attrs:{name:"retweet"}}),e._v(" "),n("span",{staticClass:"ml-4"},[e._v(e._s(e.$t("Restart Switchport")))])],1),e._v(" "),n("b-dropdown-divider"),e._v(" "),n("b-dropdown-header",[e._v(e._s(e.$t("Apply Role")))]),e._v(" "),e._l(e.roles,function(t){return n("b-dropdown-item",{key:t.id,on:{click:function(n){e.applyRole(t)}}},[n("span",[e._v(e._s(t.id))])])}),e._v(" "),n("b-dropdown-divider"),e._v(" "),n("b-dropdown-header",[e._v(e._s(e.$t("Apply Bypass Role")))]),e._v(" "),e._l(e.roles,function(t){return n("b-dropdown-item",{key:t.id,on:{click:function(n){e.applyBypassRole(t)}}},[n("span",[e._v(e._s(t.id))])])}),e._v(" "),n("b-dropdown-divider"),e._v(" "),n("b-dropdown-header",[e._v(e._s(e.$t("Apply Violation")))]),e._v(" "),e._l(e.violations,function(t){return"Y"===t.enabled?n("b-dropdown-item",{key:t.id,on:{click:function(n){e.applyViolation(t)}}},[n("span",{attrs:{id:t.id,title:t.id}},[e._v(e._s(t.desc))]),e._v(" "),n("b-tooltip",{attrs:{target:t.id,placement:"left"}},[e._v(e._s(t.id))])],1):e._e()})],2),e._v(" "),n("b-dropdown",{attrs:{size:"sm",variant:"link",boundary:"viewport",disabled:e.isLoading,"no-caret":""}},[n("template",{slot:"button-content"},[n("icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",modifiers:{hover:!0,right:!0}}],attrs:{name:"columns",title:e.$t("Visible Columns")}})],1),e._v(" "),e._l(e.columns,function(t){return n("b-dropdown-item",{key:t.key,attrs:{disabled:t.locked},on:{click:function(n){e.toggleColumn(t)}}},[t.locked?n("icon",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"column.visible"}],staticClass:"position-absolute mt-1",attrs:{name:"thumbtack"}}):n("icon",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"column.visible"}],staticClass:"position-absolute mt-1",attrs:{name:"check"}}),e._v(" "),n("span",{staticClass:"ml-4"},[e._v(e._s(t.label))])],1)})],2)],1),e._v(" "),n("b-col",{attrs:{cols:"auto"}},[n("b-container",{attrs:{fluid:""}},[n("b-row",{attrs:{"align-v":"center"}},[n("b-form",{staticClass:"mb-0",attrs:{inline:""}},[n("b-form-select",{staticClass:"mb-3 mr-3",attrs:{size:"sm",options:[10,25,50,100],disabled:e.isLoading},on:{input:e.onPageSizeChange},model:{value:e.pageSizeLimit,callback:function(t){e.pageSizeLimit=t},expression:"pageSizeLimit"}})],1),e._v(" "),n("b-pagination",{attrs:{align:"right","per-page":e.pageSizeLimit,"total-rows":e.totalRows,disabled:e.isLoading},on:{input:e.onPageChange},model:{value:e.requestPage,callback:function(t){e.requestPage=t},expression:"requestPage"}})],1)],1)],1)],1),e._v(" "),n("b-table",{attrs:{stacked:"sm",items:e.items,fields:e.visibleColumns,"sort-by":e.sortBy,"sort-desc":e.sortDesc,hover:"","no-local-sorting":""},on:{"sort-changed":e.onSortingChanged,"row-clicked":e.onRowClick,"head-clicked":e.clearChecked},scopedSlots:e._u([{key:"HEAD_actions",fn:function(t){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedAll,expression:"checkedAll"}],attrs:{type:"checkbox",id:"checkallnone"},domProps:{checked:Array.isArray(e.checkedAll)?e._i(e.checkedAll,null)>-1:e.checkedAll},on:{change:[function(t){var n=e.checkedAll,s=t.target,a=!!s.checked;if(Array.isArray(n)){var i=e._i(n,null);s.checked?i<0&&(e.checkedAll=n.concat([null])):i>-1&&(e.checkedAll=n.slice(0,i).concat(n.slice(i+1)))}else e.checkedAll=a},e.onCheckedAllChange],click:function(e){e.stopPropagation()}}}),e._v(" "),e.checkedRows.length===e.tableValues.length?n("b-tooltip",{attrs:{target:"checkallnone",placement:"right"}},[e._v(e._s(e.$t("Select None [ALT+N]")))]):n("b-tooltip",{attrs:{target:"checkallnone",placement:"right"}},[e._v(e._s(e.$t("Select All [ALT+A]")))])]}},{key:"actions",fn:function(t){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedRows,expression:"checkedRows"}],attrs:{type:"checkbox",id:t.value},domProps:{value:t.item,checked:Array.isArray(e.checkedRows)?e._i(e.checkedRows,t.item)>-1:e.checkedRows},on:{click:function(n){n.stopPropagation(),e.toggleCheckbox(n,t.index)},change:function(n){var s=e.checkedRows,a=n.target,i=!!a.checked;if(Array.isArray(s)){var r=t.item,o=e._i(s,r);a.checked?o<0&&(e.checkedRows=s.concat([r])):o>-1&&(e.checkedRows=s.slice(0,o).concat(s.slice(o+1)))}else e.checkedRows=i}}})]}},{key:"status",fn:function(t){return["reg"===t.value?n("b-badge",{attrs:{pill:"",variant:"success"}},[e._v(e._s(e.$t("registered")))]):n("b-badge",{attrs:{pill:"",variant:"light"}},[e._v(e._s(e.$t("unregistered")))])]}},{key:"device_score",fn:function(e){return[n("pf-fingerbank-score",{attrs:{score:e.value}})]}}]),model:{value:e.tableValues,callback:function(t){e.tableValues=t},expression:"tableValues"}})],1)],1)},staticRenderFns:[]},Se={path:"/nodes",name:"nodes",redirect:"/nodes/search",component:K,meta:{transitionDelay:600},beforeEnter:function(e,t,n){ht.state.$_nodes||ht.registerModule("$_nodes",ce),n()},children:[{path:"search",component:n("VU/8")(_e,ye,!1,null,null,null).exports},{path:"create",component:function(){return n.e(0).then(n.bind(null,"o2U4"))}},{path:"/node/:mac",name:"node",component:function(){return n.e(0).then(n.bind(null,"9gwj"))},props:!0,beforeEnter:function(e,t,n){ht.dispatch("$_nodes/getNode",e.params.mac).then(function(e){n()})}}]},Ee={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-row",[n("b-col",{staticClass:"bd-sidebar",attrs:{cols:"12",md:"3",xl:"2"}},[n("div",{staticClass:"bd-search d-flex align-items-center"},[n("b-form-input",{attrs:{type:"text",placeholder:e.$t("Filter")}}),e._v(" "),n("b-btn",{staticClass:"bd-search-docs-toggle d-md-none p-0 ml-3",attrs:{"aria-controls":"bd-docs-nav"}},[e._v("=")])],1),e._v(" "),n("b-collapse",{staticClass:"bd-links",attrs:{"is-nav":"",id:"bd-docs-nav"}},[n("div",{staticClass:"bd-toc-item active"},[n("b-nav",{staticClass:"bd-sidenav",attrs:{vertical:""}},[n("div",{directives:[{name:"t",rawName:"v-t",value:"Users",expression:"'Users'"}],staticClass:"bd-toc-link"}),e._v(" "),n("b-nav-item",{attrs:{to:"/users/search",replace:""}},[e._v(e._s(e.$t("Search")))]),e._v(" "),n("b-nav-item",{attrs:{to:"/users/create",replace:""}},[e._v(e._s(e.$t("Create")))]),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t",value:"Standard Searches",expression:"'Standard Searches'"}],staticClass:"bd-toc-link"}),e._v(" "),n("b-nav-item",{attrs:{to:"search/openviolations"}},[e._v("Open Violations")]),e._v(" "),n("b-nav-item",{attrs:{to:"search/closedviolations"}},[e._v("Closed Violations")]),e._v(" "),n("div",{directives:[{name:"t",rawName:"v-t",value:"Saved Searches",expression:"'Saved Searches'"}],staticClass:"bd-toc-link"})],1)],1)])],1),e._v(" "),n("b-col",{staticClass:"mt-3 mb-3",attrs:{cols:"12",md:"9",xl:"10"}},[n("transition",{attrs:{name:"slide-bottom"}},[n("router-view")],1)],1)],1)},staticRenderFns:[]},Ce=n("VU/8")({name:"Users"},Ee,!1,null,null,null).exports,ke=function(e){return e.sort&&(e.sort=e.sort.join(",")),e.fields&&(e.fields=e.fields.join(",")),tt.get("users",{params:e}).then(function(e){return e.data})},$e=function(e){return tt.post("users/search",e).then(function(e){return e.data})},Re=function(e){return tt.get("user/"+e).then(function(e){return e.data.item})},we=function(e){return tt.post("users",e).then(function(e){return e.data})},xe=function(e){return tt.patch("user/"+e.pid,e).then(function(e){return e.data})},De=function(e){return tt.delete("user/"+e)},Ae={namespaced:!0,state:{items:[],users:{},message:"",userStatus:"",searchStatus:"",searchFields:[],searchQuery:null,searchSortBy:"pid",searchSortDesc:!1,searchMaxPageNumber:1,searchPageSize:localStorage.getItem("users-search-limit")||10,visibleColumns:JSON.parse(localStorage.getItem("users-visible-columns"))||!1},getters:{isLoading:function(e){return"loading"===e.userStatus},isLoadingResults:function(e){return"loading"===e.searchStatus}},actions:{setSearchFields:function(e,t){(0,e.commit)("SEARCH_FIELDS_UPDATED",t)},setSearchQuery:function(e,t){var n=e.commit;n("SEARCH_QUERY_UPDATED",t),n("SEARCH_MAX_PAGE_NUMBER_UPDATED",1)},setSearchPageSize:function(e,t){var n=e.commit;localStorage.setItem("users-search-limit",t),n("SEARCH_LIMIT_UPDATED",t),n("SEARCH_MAX_PAGE_NUMBER_UPDATED",1)},setSearchSorting:function(e,t){var n=e.commit;n("SEARCH_SORT_BY_UPDATED",t.sortBy),n("SEARCH_SORT_DESC_UPDATED",t.sortDesc),n("SEARCH_MAX_PAGE_NUMBER_UPDATED",1)},setVisibleColumns:function(e,t){var n=e.commit;localStorage.setItem("users-visible-columns",D()(t)),n("VISIBLE_COLUMNS_UPDATED",t)},search:function(e,t){var n=e.state,s=(e.getters,e.commit),a=(e.dispatch,[n.searchSortDesc?n.searchSortBy+" DESC":n.searchSortBy]),i={cursor:n.searchPageSize*(t-1),limit:n.searchPageSize,fields:n.searchFields,sort:a},r=n.searchQuery?$e($()(i,{query:n.searchQuery})):ke(i);if("loading"!==n.searchStatus)return new v.a(function(e,t){s("SEARCH_REQUEST"),r.then(function(t){s("SEARCH_SUCCESS",t),e(t)}).catch(function(e){s("SEARCH_ERROR",e.response),t(e)})})},getUser:function(e,t){var n=e.commit,s=e.state;return s.users[t]?v.a.resolve(s.users[t]):(n("USER_REQUEST"),Re(t).then(function(e){return n("USER_REPLACED",e),s.users[t]}).catch(function(e){return n("USER_ERROR",e.response),e}))},createUser:function(e,t){var n=e.commit;return n("USER_REQUEST"),new v.a(function(e,s){we(t).then(function(s){n("USER_REPLACED",t),e(s)}).catch(function(e){n("USER_ERROR",e.response),s(e)})})},updateUser:function(e,t){var n=e.commit;return n("USER_REQUEST"),delete t.access_duration,delete t.access_level,xe(t).then(function(e){return n("USER_REPLACED",t),e}).catch(function(e){n("USER_ERROR",e.response)})},deleteUser:function(e,t){var n=e.commit;return n("USER_REQUEST"),new v.a(function(e,s){De(t).then(function(s){n("USER_DESTROYED",t),e(s)}).catch(function(e){n("USER_ERROR",e.response),s(e)})})}},mutations:{SEARCH_FIELDS_UPDATED:function(e,t){e.searchFields=t},SEARCH_QUERY_UPDATED:function(e,t){e.searchQuery=t},SEARCH_SORT_BY_UPDATED:function(e,t){e.searchSortBy=t},SEARCH_SORT_DESC_UPDATED:function(e,t){e.searchSortDesc=t},SEARCH_MAX_PAGE_NUMBER_UPDATED:function(e,t){e.searchMaxPageNumber=t},SEARCH_LIMIT_UPDATED:function(e,t){e.searchPageSize=t},SEARCH_REQUEST:function(e){e.searchStatus="loading"},SEARCH_SUCCESS:function(e,t){e.searchStatus="success",e.items=t.items;var n=Math.floor(t.nextCursor/e.searchPageSize)+1;n>e.searchMaxPageNumber&&(e.searchMaxPageNumber=n)},SEARCH_ERROR:function(e,t){e.searchStatus="error",t&&t.data&&(e.message=t.data.message)},VISIBLE_COLUMNS_UPDATED:function(e,t){e.visibleColumns=t},USER_REQUEST:function(e){e.userStatus="loading"},USER_REPLACED:function(e,t){o.a.set(e.users,t.pid,t),e.userStatus="success"},USER_DESTROYED:function(e,t){e.userStatus="success",o.a.set(e.users,t,null)},USER_ERROR:function(e,t){e.userStatus="error",t&&t.data&&(e.message=t.data.message)}}},Pe={name:"UsersSearch",components:{"pf-search":ge,"toggle-button":z.a},data:function(){return{advancedMode:!1,fields:[{value:"pid",text:"Username",types:[he.b.SUBSTRING]},{value:"email",text:"Email",types:[he.b.SUBSTRING]}],columns:[{key:"pid",label:this.$i18n.t("Username"),sortable:!0,visible:!0},{key:"firstname",label:this.$i18n.t("Firstname"),sortable:!0,visible:!0},{key:"lastname",label:this.$i18n.t("Lastname"),sortable:!0,visible:!0},{key:"email",label:this.$i18n.t("Email"),sortable:!0,visible:!0}],condition:null,requestPage:1,currentPage:1,pageSizeLimit:10}},computed:{isLoading:function(){return this.$store.getters["$_users/isLoadingResults"]},sortBy:function(){return this.$store.state.$_users.searchSortBy},sortDesc:function(){return this.$store.state.$_users.searchSortDesc},visibleColumns:function(){return this.columns.filter(function(e){return e.visible})},searchFields:function(){return this.visibleColumns.filter(function(e){return!e.locked}).map(function(e){return e.key})},items:function(){return this.$store.state.$_users.items},totalRows:function(){return this.$store.state.$_users.searchMaxPageNumber*this.pageSizeLimit}},methods:{onSearch:function(e){var t=this,n=e;this.advancedMode||(n={op:"or",values:[{field:"pid",op:"contains",value:e},{field:"email",op:"contains",value:e}]}),this.requestPage=1,this.$store.dispatch("$_users/setSearchQuery",n),this.$store.dispatch("$_users/search",this.requestPage).then(function(){t.currentPage=t.requestPage,t.condition=n}).catch(function(){t.requestPage=t.currentPage})},onReset:function(){this.$store.dispatch("$_users/setSearchQuery",null),this.$store.dispatch("$_users/search",this.requestPage),this.requestPage=1,this.condition={op:"and",values:[{field:this.fields[0].value,op:null,value:null}]}},onPageSizeChange:function(){this.requestPage=1,this.$store.dispatch("$_users/setSearchPageSize",this.pageSizeLimit),this.$store.dispatch("$_users/search",this.requestPage)},onPageChange:function(){var e=this;this.$store.dispatch("$_users/search",this.requestPage).then(function(){e.currentPage=e.requestPage}).catch(function(){e.requestPage=e.currentPage})},onSortingChanged:function(e){this.requestPage=1,this.$store.dispatch("$_users/setSearchSorting",e),this.$store.dispatch("$_users/search",this.requestPage)},toggleColumn:function(e){e.visible=!e.visible,this.$store.dispatch("$_users/setVisibleColumns",this.columns.filter(function(e){return e.visible}).map(function(e){return e.key})),this.$store.dispatch("$_users/setSearchFields",this.searchFields),e.visible&&this.$store.dispatch("$_users/search",this.requestPage)},onRowClick:function(e,t){this.$router.push({name:"user",params:{pid:e.pid}})}},created:function(){if(this.pageSizeLimit=this.$store.state.$_users.searchPageSize,this.condition=this.$store.state.$_users.searchQuery,this.condition?this.advancedMode=!("or"===this.condition.op&&2===this.condition.values.length&&"pid"===this.condition.values[0].field&&"contains"===this.condition.values[0].op&&"email"===this.condition.values[1].field&&"contains"===this.condition.values[1].op):this.condition={op:"and",values:[{field:this.fields[0].value,op:null,value:null}]},this.$store.state.$_users.visibleColumns){var e=this.$store.state.$_users.visibleColumns;this.columns.forEach(function(t,n,s){s[n].visible=e.includes(t.key)})}this.$store.dispatch("$_users/setSearchFields",this.searchFields),this.$store.dispatch("$_users/search",this.requestPage)}},Te={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{attrs:{"no-body":""}},[n("b-card-header",[n("div",{staticClass:"float-right"},[n("toggle-button",{model:{value:e.advancedMode,callback:function(t){e.advancedMode=t},expression:"advancedMode"}},[e._v(e._s(e.$t("Advanced")))])],1),e._v(" "),n("h4",{directives:[{name:"t",rawName:"v-t",value:"Search Users",expression:"'Search Users'"}],staticClass:"mb-0"})]),e._v(" "),n("pf-search",{attrs:{"quick-with-fields":!1,"quick-placeholder":"Search by name or email",fields:e.fields,store:e.$store,"advanced-mode":e.advancedMode,condition:e.condition},on:{"submit-search":e.onSearch,"reset-search":e.onReset}}),e._v(" "),n("div",{staticClass:"card-body"},[n("b-row",{attrs:{"align-h":"between","align-v":"center"}},[n("b-col",{staticClass:"mr-auto",attrs:{cols:"auto"}},[n("b-dropdown",{attrs:{size:"sm",variant:"link",disabled:e.isLoading,"no-caret":""}},[n("template",{slot:"button-content"},[n("icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.right",modifiers:{hover:!0,right:!0}}],attrs:{name:"columns",title:e.$t("Visible Columns")}})],1),e._v(" "),e._l(e.columns,function(t){return n("b-dropdown-item",{key:t.key,on:{click:function(n){e.toggleColumn(t)}}},[n("icon",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"column.visible"}],staticClass:"position-absolute mt-1",attrs:{name:"check"}}),e._v(" "),n("span",{staticClass:"ml-4"},[e._v(e._s(t.label))])],1)})],2)],1),e._v(" "),n("b-col",{attrs:{cols:"auto"}},[n("b-container",{attrs:{fluid:""}},[n("b-row",{attrs:{"align-v":"center"}},[n("b-form",{staticClass:"mb-0",attrs:{inline:""}},[n("b-form-select",{staticClass:"mb-3 mr-3",attrs:{size:"sm",options:[10,25,50,100],disabled:e.isLoading},on:{input:e.onPageSizeChange},model:{value:e.pageSizeLimit,callback:function(t){e.pageSizeLimit=t},expression:"pageSizeLimit"}})],1),e._v(" "),n("b-pagination",{attrs:{align:"right","per-page":e.pageSizeLimit,"total-rows":e.totalRows,disabled:e.isLoading},on:{input:e.onPageChange},model:{value:e.requestPage,callback:function(t){e.requestPage=t},expression:"requestPage"}})],1)],1)],1)],1),e._v(" "),n("b-table",{attrs:{hover:"",items:e.items,fields:e.visibleColumns,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"no-local-sorting":""},on:{"sort-changed":e.onSortingChanged,"row-clicked":e.onRowClick}})],1)],1)},staticRenderFns:[]},Ue=n("VU/8")(Pe,Te,!1,null,null,null).exports,Ne=n("zp2a"),Le=n("DAYN"),Oe=n.n(Le),Ie=n("ESwS").validationMixin,Me=n("+cKO"),Ve=Me.required,qe=Me.email,Be=Me.minLength,Fe={name:"UsersCreate",components:{draggable:Oe.a,"pf-form-input":Ne.a},mixins:[Ie],data:function(){return{modeIndex:0,single:{pid:"",email:"",password:""},csv:{file:null,delimiter:"comma",delimiters:[{value:"comma",text:"Comma"},{value:"semicolon",text:"Semicolon"},{value:"tab",text:"Tab"}],voip:null,columns:[{value:"1",name:"mac",text:"MAC Address"},{value:"0",name:"owner",text:"Owner"},{value:"0",name:"role",text:"Role"},{value:"0",name:"unregdate",text:"Unregistration Date"}]},valid_from:new Date}},validations:{single:{pid:{required:Ve},email:{email:qe,required:Ve},password:{minLength:Be(6)}}},computed:{isLoading:function(){return this.$store.getters["$_users/isLoading"]},invalidForm:function(){return 0===this.modeIndex&&(this.$v.single.$invalid||this.isLoading)}},methods:{create:function(){var e=this;0===this.modeIndex&&this.$store.dispatch("$_users/createUser",this.single).then(function(e){console.debug("user created")}).catch(function(t){console.debug(t),console.debug(e.$store.state.$_users.message)})}}},He={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{attrs:{"no-body":""}},[n("b-card-header",[n("h4",{directives:[{name:"t",rawName:"v-t",value:"Create Users",expression:"'Create Users'"}],staticClass:"mb-0"})]),e._v(" "),n("b-tabs",{attrs:{card:""},model:{value:e.modeIndex,callback:function(t){e.modeIndex=t},expression:"modeIndex"}},[n("b-tab",{attrs:{title:"Single"}},[n("b-form",{on:{submit:function(t){t.preventDefault(),e.create()}}},[n("b-form-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{sm:"8"}},[n("pf-form-input",{attrs:{label:"Username",validation:e.$v.single.pid,"invalid-feedback":"This username already exists.",text:"The username to use for login to the captive portal."},model:{value:e.single.pid,callback:function(t){e.$set(e.single,"pid","string"==typeof t?t.trim():t)},expression:"single.pid"}}),e._v(" "),n("pf-form-input",{attrs:{type:"password",label:"Password",validation:e.$v.single.password,"invalid-feedback":"The password must be at least 6 characters.",text:"Leave it empty if you want to generate a random password."},model:{value:e.single.password,callback:function(t){e.$set(e.single,"password",t)},expression:"single.password"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Email",validation:e.$v.single.email,"invalid-feedback":"Specify a valid email address."},model:{value:e.single.email,callback:function(t){e.$set(e.single,"email","string"==typeof t?t.trim():t)},expression:"single.email"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Firstname"},model:{value:e.single.firstname,callback:function(t){e.$set(e.single,"firstname",t)},expression:"single.firstname"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Lastname"},model:{value:e.single.lastname,callback:function(t){e.$set(e.single,"lastname",t)},expression:"single.lastname"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Company"},model:{value:e.single.company,callback:function(t){e.$set(e.single,"company",t)},expression:"single.company"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Telephone"},model:{value:e.single.telephone,callback:function(t){e.$set(e.single,"telephone",t)},expression:"single.telephone"}}),e._v(" "),n("b-form-group",{attrs:{horizontal:"","label-cols":"3",label:e.$t("Address")}},[n("b-form-textarea",{attrs:{rows:"4","max-rows":"6"},model:{value:e.single.address,callback:function(t){e.$set(e.single,"address",t)},expression:"single.address"}})],1)],1),e._v(" "),n("b-col",{attrs:{sm:"4"}},[n("b-form-textarea",{attrs:{placeholder:e.$t("Notes"),rows:"8","max-rows":"12"},model:{value:e.single.notes,callback:function(t){e.$set(e.single,"notes",t)},expression:"single.notes"}})],1)],1)],1)],1),e._v(" "),n("b-tab",{directives:[{name:"can",rawName:"v-can:create-multiple",value:"users",expression:"'users'",arg:"create-multiple"}],attrs:{title:e.$t("Multiple")}}),e._v(" "),n("b-tab",{directives:[{name:"can",rawName:"v-can:create-multiple",value:"users",expression:"'users'",arg:"create-multiple"}],attrs:{title:e.$t("Import")}},[n("b-form",[n("b-form-group",{attrs:{horizontal:"","label-cols":"3",label:"CSV File"}},[n("b-form-file",{attrs:{accept:"text/*","choose-label":"Choose a file",required:""},model:{value:e.csv.file,callback:function(t){e.$set(e.csv,"file",t)},expression:"csv.file"}})],1),e._v(" "),n("b-form-group",{attrs:{horizontal:"","label-cols":"3",label:"Column Delimiter"}},[n("b-form-select",{attrs:{options:e.csv.delimiters},model:{value:e.csv.delimiter,callback:function(t){e.$set(e.csv,"delimiter",t)},expression:"csv.delimiter"}})],1),e._v(" "),n("b-form-group",{attrs:{horizontal:"","label-cols":"3",label:"Default Voice Over IP"}},[n("b-form-checkbox",{attrs:{value:"yes"},model:{value:e.csv.voip,callback:function(t){e.$set(e.csv,"voip",t)},expression:"csv.voip"}})],1),e._v(" "),n("b-row",[n("b-col",{attrs:{sm:"3"}},[e._v(e._s(e.$t("Columns Order")))]),e._v(" "),n("b-col",[n("draggable",{attrs:{options:{handle:".draggable-handle"}},model:{value:e.csv.columns,callback:function(t){e.$set(e.csv,"columns",t)},expression:"csv.columns"}},e._l(e.csv.columns,function(t,s){return n("div",{key:t.name,staticClass:"draggable-item"},[n("span",{staticClass:"draggable-handle"},[e._v(e._s(s))]),e._v(" "),n("b-form-checkbox",{attrs:{value:"1"},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"column.value"}},[e._v(e._s(t.text))])],1)}))],1)],1)],1)],1)],1),e._v(" "),n("b-container",{staticClass:"card-body",attrs:{fluid:""}},[n("b-form-row",[n("b-col",{attrs:{sm:"8"}},[n("b-form-group",{attrs:{horizontal:"","label-cols":"3",label:e.$t("Registration Window")}},[n("b-form-row",{staticClass:"align-items-center"},[n("b-col",[n("b-form-input",{attrs:{type:"date"},model:{value:e.valid_from,callback:function(t){e.valid_from=t},expression:"valid_from"}})],1),e._v(" "),n("icon",{attrs:{name:"arrow-right"}}),e._v(" "),n("b-col",[n("b-form-input",{attrs:{type:"date"},model:{value:e.expiration,callback:function(t){e.expiration=t},expression:"expiration"}})],1)],1)],1)],1),e._v(" "),n("b-col",{attrs:{sm:"4"}})],1)],1),e._v(" "),n("b-card-footer",{attrs:{align:"right"},on:{mouseenter:function(t){e.$v.$touch()}}},[n("b-button",{attrs:{variant:"outline-primary",disabled:e.invalidForm},on:{click:function(t){e.create()}}},[n("icon",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{name:"circle-notch",spin:""}}),e._v(" "+e._s(e.$t("Create"))+"\n    ")],1)],1)],1)},staticRenderFns:[]},ze=n("VU/8")(Fe,He,!1,null,null,null).exports,Qe=n("ESwS").validationMixin,je=n("+cKO"),Ge=je.required,Ye=je.email,Ke={name:"UserView",components:{"toggle-button":z.a,"pf-form-input":Ne.a},mixins:[Qe],props:{pid:String},data:function(){return{userContent:{email:"",notes:""}}},validations:{userContent:{email:{email:Ye,required:Ge}}},computed:{node:function(){return this.$store.state.$_users.users[this.pid]},isLoading:function(){return this.$store.getters["$_users/isLoading"]},invalidForm:function(){return this.$v.userContent.$invalid||this.$store.getters["$_users/isLoading"]}},methods:{close:function(){this.$router.push({name:"users"})},save:function(){var e=this;this.$store.dispatch("$_users/updateUser",this.userContent).then(function(t){e.close()})},deleteUser:function(){var e=this;this.$store.dispatch("$_users/deleteUser",this.pid).then(function(t){e.close()})},onKeyup:function(e){switch(e.keyCode){case 27:this.close()}}},mounted:function(){var e=this;this.$store.dispatch("$_users/getUser",this.pid).then(function(t){e.userContent=$()({},t)}),document.addEventListener("keyup",this.onKeyup)},beforeDestroy:function(){document.removeEventListener("keyup",this.onKeyup)}},Xe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",{on:{submit:function(t){t.preventDefault(),e.save()}}},[n("b-card",{attrs:{"no-body":""}},[n("b-card-header",[n("b-button-close",{on:{click:e.close}},[n("icon",{attrs:{name:"times"}})],1),e._v(" "),n("h4",{staticClass:"mb-0"},[e._v(e._s(e.$t("User"))+" "),n("strong",{domProps:{textContent:e._s(e.pid)}})])],1),e._v(" "),n("b-tabs",{attrs:{card:""}},[n("b-tab",{attrs:{title:e.$t("Profile"),active:""}},[n("b-row",[n("b-col",[n("pf-form-input",{attrs:{label:"Email",validation:e.$v.userContent.email,"invalid-feedback":"Must be a valid email address"},model:{value:e.userContent.email,callback:function(t){e.$set(e.userContent,"email",t)},expression:"userContent.email"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Firstname"},model:{value:e.userContent.firstname,callback:function(t){e.$set(e.userContent,"firstname",t)},expression:"userContent.firstname"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Lastname"},model:{value:e.userContent.lastname,callback:function(t){e.$set(e.userContent,"lastname",t)},expression:"userContent.lastname"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Company"},model:{value:e.userContent.company,callback:function(t){e.$set(e.userContent,"company",t)},expression:"userContent.company"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Telephone"},model:{value:e.userContent.telephone,callback:function(t){e.$set(e.userContent,"telephone",t)},expression:"userContent.telephone"}}),e._v(" "),n("b-form-group",{attrs:{horizontal:"","label-cols":"3",label:e.$t("Notes")}},[n("b-form-textarea",{attrs:{rows:"4","max-rows":"6"},model:{value:e.userContent.notes,callback:function(t){e.$set(e.userContent,"notes",t)},expression:"userContent.notes"}})],1)],1),e._v(" "),n("b-col",[n("pf-form-input",{attrs:{label:"Anniversary",type:"date"},model:{value:e.userContent.anniversary,callback:function(t){e.$set(e.userContent,"anniversary",t)},expression:"userContent.anniversary"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Birthday",type:"date"},model:{value:e.userContent.birthday,callback:function(t){e.$set(e.userContent,"birthday",t)},expression:"userContent.birthday"}}),e._v(" "),n("pf-form-input",{attrs:{label:"Gender"},model:{value:e.userContent.gender,callback:function(t){e.$set(e.userContent,"gender",t)},expression:"userContent.gender"}})],1)],1)],1),e._v(" "),n("b-tab",{attrs:{title:e.$t("Custom Fields")}},[n("b-form-row",[n("b-col",{attrs:{cols:"6"}},e._l(9,function(t){return n("pf-form-input",{key:t,attrs:{label:"custom_field_"+t},model:{value:e.userContent["custom_field_"+t],callback:function(n){e.$set(e.userContent,"custom_field_"+t,n)},expression:"userContent['custom_field_' + i]"}})}))],1)],1)],1),e._v(" "),n("b-card-footer",{attrs:{align:"right"},on:{mouseenter:function(t){e.$v.userContent.$touch()}}},[n("b-button",{directives:[{name:"t",rawName:"v-t",value:"Delete",expression:"'Delete'"}],staticClass:"mr-1",attrs:{variant:"outline-danger",disabled:e.isLoading},on:{click:function(t){e.deleteUser()}}}),e._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:e.invalidForm}},[n("icon",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{name:"circle-notch",spin:""}}),e._v(" "+e._s(e.$t("Save")))],1)],1)],1)],1)},staticRenderFns:[]},We={path:"/users",name:"users",redirect:"/users/search",component:Ce,meta:{transitionDelay:600},beforeEnter:function(e,t,n){ht.state.$_users||ht.registerModule("$_users",Ae),n()},children:[{path:"search",component:Ue},{path:"create",component:ze},{path:"/user/:pid",name:"user",component:n("VU/8")(Ke,Xe,!1,null,null,null).exports,props:!0,beforeEnter:function(e,t,n){ht.dispatch("$_users/getUser",e.params.pid).then(function(e){n()})}}]};o.a.use(g.a);var Je=new g.a({routes:[C,G,Se,We]});Je.beforeEach(function(e,t,n){t.matched.find(function(e){return e.meta.transitionDelay})&&document.body.classList.add("modal-open"),"login"!==e.name?ht.dispatch("session/load").then(function(){n()}).catch(function(){Je.push("/"),n()}):n()}),Je.afterEach(function(e,t){var n=t.matched.find(function(e){return e.meta.transitionDelay});n&&setTimeout(function(){document.body.classList.remove("modal-open")},n.meta.transitionDelay)});var Ze=Je,et=b.a.create({baseURL:"https://"+window.location.hostname+":9999/api/v1/"});et.interceptors.response.use(function(e){return e},function(e){return e.response?((401===e.response.status||404===e.response.status&&/token_info/.test(e.config.url))&&Ze.push("/expire"),e.response.data&&(console.group("API error"),console.log(e.response.data.message),e.response.data.errors&&e.response.data.errors.forEach(function(e){a()(e).forEach(function(t){console.log(t+": "+e[t])})}),console.groupEnd())):e.request&&ht.commit("session/API_ERROR"),v.a.reject(e)});var tt=et,nt=["create","create_overwrite","create_multiple","delete","mark_as_sponsor","read","read_sponsored","set_access_level","set_access_duration","set_bandwidth_balance","set_role","set_tenant_id","set_time_balance","set_unreg_date","update","write"],st=function(e){tt.defaults.headers.common.Authorization="Bearer "+e},at=function(){return tt({url:"token_info",method:"get"})},it=function(){return tt({url:"tenants",method:"get"})},rt=function(e){return tt({url:"translation/"+e,method:"get"})};function ot(e,t){return e.locale=t,tt.defaults.headers.common["Accept-Language"]=t,document.querySelector("html").setAttribute("lang",t),t}var lt={namespaced:!0,state:{token:localStorage.getItem("user-token")||"",username:"",roles:[],tenant_id:[],tenants:[],languages:[],api:!0,charts:!0},getters:{isAuthenticated:function(e){return!!e.token&&e.roles.length>0}},actions:{load:function(e){var t=e.state,n=e.dispatch;return t.token?t.username?v.a.resolve():n("update",t.token):v.a.reject(new Error("No token"))},update:function(e,t){var n=e.commit,s=e.dispatch;return localStorage.setItem("user-token",t),st(t),n("TOKEN_UPDATED",t),s("getTokenInfo").then(function(e){o.a.use(f.a,e,function(t){var n=!0,s=!1,a=void 0;try{for(var i,o=r()(e);!(n=(i=o.next()).done);n=!0){var l=i.value,c="",u="",d=!0,h=!1,v=void 0;try{for(var m,f=r()(nt);!(d=(m=f.next()).done);d=!0){var p=m.value;if(l.toLowerCase().endsWith(p)){c=p.replace(/_/g,"-"),u=l.substring(0,l.length-c.length-1).toLowerCase();break}}}catch(e){h=!0,v=e}finally{try{!d&&f.return&&f.return()}finally{if(h)throw v}}u||(console.warn("No action found for "+l),c="access",u=l.toLowerCase()),console.debug("configure acl "+c+" => "+u),t.rule(c,u,function(){return!0})}}catch(e){s=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(s)throw a}}},{caseMode:!1}),n("ROLES_UPDATED",e)})},delete:function(e){var t=e.commit;e.dispatch;localStorage.removeItem("user-token"),t("TOKEN_DELETED"),t("USERNAME_DELETED"),t("ROLES_DELETED")},getTokenInfo:function(e){var t=e.commit;e.dispatch;return at().then(function(e){return t("USERNAME_UPDATED",e.data.item.username),e.data.item.admin_roles})},getTenants:function(e){var t=e.commit;return it().then(function(e){t("TENANTS_UPDATED",e.data)})},setLanguage:function(e,t){var n=e.state;e.commit;return t.i18n.locale!==t.lang||n.languages.indexOf(t.lang)<0?n.languages.indexOf(t.lang)<0?rt(t.lang).then(function(e){var s=e.data.item.lexicon;return t.i18n.setLocaleMessage(t.lang,s),n.languages.push(t.lang),ot(t.i18n,t.lang)}):v.a.resolve(ot(t.i18n,t.lang)):v.a.resolve(t.lang)}},mutations:{TOKEN_UPDATED:function(e,t){e.token=t},TOKEN_DELETED:function(e){e.token=""},USERNAME_UPDATED:function(e,t){e.username=t},USERNAME_DELETED:function(e){e.username=""},ROLES_UPDATED:function(e,t){e.roles=t},ROLES_DELETED:function(e){e.roles=[]},TENANTS_UPDATED:function(e,t){e.tenants=t.items},API_ERROR:function(e){e.api=!1},CHARTS_ERROR:function(e){e.charts=!1}}},ct=function(){return tt({url:"config/roles",method:"get"})},ut=function(){return tt({url:"config/violations",method:"get"})},dt={namespaced:!0,state:{roles:[],violations:{}},getters:{rolesList:function(e){return e.roles.map(function(e){return{value:e.id,text:e.id+" - "+e.notes}})},sortedViolations:function(e){var t=a()(e.violations).sort(function(t,n){return"default"===t?t:e.violations[t].desc||e.violations[n].desc?e.violations[n].desc?e.violations[t].desc?e.violations[t].desc.localeCompare(e.violations[n].desc):n:t:t.localeCompare(n)}),n=[],s=!0,i=!1,o=void 0;try{for(var l,c=r()(t);!(s=(l=c.next()).done);s=!0){var u=l.value;n.push(e.violations[u])}}catch(e){i=!0,o=e}finally{try{!s&&c.return&&c.return()}finally{if(i)throw o}}return n}},actions:{getRoles:function(e){var t=e.state,n=e.commit;return 0===t.roles.length?ct().then(function(e){return n("ROLES_UPDATED",e.data.items),t.roles}):v.a.resolve(t.roles)},getViolations:function(e){var t=e.commit,n=e.state;return 0===n.violations.length?ut().then(function(e){return t("VIOLATIONS_UPDATED",e.data.items),n.violations}):v.a.resolve(n.violations)}},mutations:{ROLES_UPDATED:function(e,t){e.roles=t},VIOLATIONS_UPDATED:function(e,t){var n={},s=!0,a=!1,i=void 0;try{for(var o,l=r()(t);!(s=(o=l.next()).done);s=!0){var c=o.value;n[c.id]=$()({},c)}}catch(e){a=!0,i=e}finally{try{!s&&l.return&&l.return()}finally{if(a)throw i}}e.violations=n}}};o.a.use(d.a);var ht=new d.a.Store({modules:{session:lt,config:dt},strict:!1}),vt={pfDate:function(e){return e?"0000-00-00 00:00:00"===e?"Never":e:""}},mt={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{staticClass:"navbar-expand-md bg-dark",attrs:{toggleable:"md",fixed:"top",type:"dark"}},[n("b-nav-toggle",{attrs:{target:"navbar"}}),e._v(" "),n("b-navbar-brand",[n("img",{attrs:{src:"/static/img/packetfence.white.small.svg"}})]),e._v(" "),e.isAuthenticated?n("b-collapse",{attrs:{"is-nav":"",id:"navbar"}},[n("b-navbar-nav",[n("b-nav-item",{directives:[{name:"can",rawName:"v-can:access.some",value:[["reports","services"]],expression:"[['reports', 'services']]",arg:"access",modifiers:{some:!0}}],attrs:{to:"/status"}},[e._v(e._s(e.$t("Status")))]),e._v(" "),n("b-nav-item",{directives:[{name:"can",rawName:"v-can:access",value:"reports",expression:"'reports'",arg:"access"}],attrs:{href:"#"}},[e._v(e._s(e.$t("Reports")))]),e._v(" "),n("b-nav-item",{directives:[{name:"can",rawName:"v-can:read",value:"auditing",expression:"'auditing'",arg:"read"}],attrs:{to:"/auditing"}},[e._v(e._s(e.$t("Auditing")))]),e._v(" "),n("b-nav-item",{directives:[{name:"can",rawName:"v-can:read",value:"nodes",expression:"'nodes'",arg:"read"}],attrs:{to:"/nodes"}},[e._v(e._s(e.$t("Nodes")))]),e._v(" "),n("b-nav-item",{directives:[{name:"can",rawName:"v-can:read",value:"users",expression:"'users'",arg:"read"}],attrs:{to:"/users"}},[e._v(e._s(e.$t("Users")))]),e._v(" "),n("b-nav-item",{directives:[{name:"can",rawName:"v-can:read",value:"configuration_main",expression:"'configuration_main'",arg:"read"}],attrs:{href:"#"}},[e._v(e._s(e.$t("Configuration")))])],1)],1):e._e(),e._v(" "),n("b-badge",{staticClass:"mr-1",attrs:{variant:e.apiOK?"success":"danger"}},[e._v("API")]),e._v(" "),n("b-badge",{staticClass:"mr-1",attrs:{variant:e.chartsOK?"success":"danger"}},[e._v("dashboard")]),e._v(" "),e.isAuthenticated?n("b-navbar-nav",{attrs:{right:""}},[n("b-nav-item-dropdown",{attrs:{right:"",text:e.username}},["en"==e.$i18n.locale?n("b-dropdown-item-button",{on:{click:function(t){e.setLanguage("fr")}}},[e._v("Français")]):n("b-dropdown-item-button",{on:{click:function(t){e.setLanguage("en")}}},[e._v("English")]),e._v(" "),n("b-dropdown-divider"),e._v(" "),n("b-dropdown-item",{attrs:{to:"/logout"}},[e._v(e._s(e.$t("Log out")))])],1)],1):e._e()],1),e._v(" "),n("b-container",{staticClass:"mt-5 pt-3",attrs:{fluid:""}},[n("router-view")],1)],1)},staticRenderFns:[]};var ft=n("VU/8")({name:"App",computed:{isAuthenticated:function(){return this.$store.getters["session/isAuthenticated"]},username:function(){return this.$store.state.session.username},apiOK:function(){return this.$store.state.session.api},chartsOK:function(){return this.$store.state.session.charts}},methods:{setLanguage:function(e){this.$store.dispatch("session/setLanguage",{i18n:this.$i18n,lang:e})}},created:function(){this.$store.dispatch("session/setLanguage",{i18n:this.$i18n,lang:"en"})}},mt,!1,function(e){n("3pGL")},null,null).exports;n("9M+g");o.a.config.productionTip=!0,o.a.component("icon",u.a),o.a.use(l.a),o.a.use(c.a);var pt=new l.a({locale:"en",messages:{en:{}}}),bt=!0,gt=!1,_t=void 0;try{for(var yt,St=r()(a()(vt));!(bt=(yt=St.next()).done);bt=!0){var Et=yt.value;o.a.filter(Et,vt[Et])}}catch(e){gt=!0,_t=e}finally{try{!bt&&St.return&&St.return()}finally{if(gt)throw _t}}new o.a({el:"#app",router:Ze,store:ht,i18n:pt,components:{App:ft}})},RYjK:function(e,t,n){"use strict";var s={name:"pf-fingerbank-score",props:{score:{type:Number,default:0},hideValue:{type:Boolean,default:!1}},computed:{value:function(){return parseFloat(this.score)||0},otherValue:function(){return 100-this.value},level:function(){return this.value<33?"danger":this.value<66?"warning":"success"}}},a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  "+e._s(e.value)+"%\n  "),n("b-progress",{attrs:{max:100,height:"4px"}},[n("b-progress-bar",{attrs:{value:e.value,precision:2,variant:e.level,"show-value":!1}}),e._v(" "),n("b-progress-bar",{staticStyle:{opacity:"0.2"},attrs:{value:e.otherValue,precision:2,variant:e.level,"show-value":!1}})],1)],1)},staticRenderFns:[]},i=n("VU/8")(s,a,!1,null,null,null);t.a=i.exports},kL7M:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return p});var s=n("fZjL"),a=n.n(s),i=n("BO1k"),r=n.n(i),o=n("lHA8"),l=n.n(o),c=n("Gu7T"),u=n.n(c),d={BOOL:"bool",LIST:"list",LISTEXTEND:"list",SUBSTRING:"substring",NODE_STATUS:"node_status",ROLE:"role",CONNECTION_TYPE:"connection_type"},h={TEXT:"text",SELECT:"select"},v={};v[d.SUBSTRING]={equals:h.TEXT,not_equals:h.TEXT,starts_with:h.TEXT,ends_with:h.TEXT,contains:h.TEXT},v[d.BOOL]={is_true:null,is_false:null},v[d.NODE_STATUS]={equals:h.SELECT,not_equals:h.SELECT},v[d.ROLE]={equals:h.SELECT,not_equals:h.SELECT},v[d.CONNECTION_TYPE]={equals:h.SELECT,not_equals:h.SELECT};var m={};m[d.NODE_STATUS]=[{value:"reg",text:"Registered"},{value:"unreg",text:"Unregistered"},{value:"pending",text:"Pending"}],m[d.ROLE]=function(e){return e.getters["config/rolesList"]},m[d.CONNECTION_TYPE]=[{value:"WIRELESS_802_1X",text:"Wireless 802.1x"},{value:"WIRELESS_MAC_AUTH",text:"Wireless MAC Auth"}];var f=function(e){var t=[],n=!0,s=!1,i=void 0;try{for(var o,c=r()(e);!(n=(o=c.next()).done);n=!0){var d=o.value;t=t.concat(a()(v[d]))}}catch(e){s=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(s)throw i}}return[].concat(u()(new l.a(t)))},p=function(e,t,n){var s=[],i=!1,o=!0,l=!1,c=void 0;try{for(var u,d=r()(e);!(o=(u=d.next()).done);o=!0){var h=u.value,f=v[h],p=!0,b=!1,g=void 0;try{for(var _,y=r()(a()(f));!(p=(_=y.next()).done);p=!0){if(_.value===t){s=m[h],i=!0;break}}}catch(e){b=!0,g=e}finally{try{!p&&y.return&&y.return()}finally{if(b)throw g}}if(i)break}}catch(e){l=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(l)throw c}}return s&&"function"==typeof s?s(n):s}},zj2Q:function(e,t){},zp2a:function(e,t,n){"use strict";var s=n("gq33"),a={name:"pf-form-input",props:{value:{default:null},label:{type:String},type:{type:String,default:"text"},placeholder:{type:String,default:null},validation:{type:Object,default:null},text:{type:String,default:null},invalidFeedback:{type:String,default:null},highlightValid:{type:Boolean,default:!1},debounce:{type:Number,default:300}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{isValid:function(){if(this.validation&&this.validation.$dirty){if(this.validation.$invalid)return!1;if(this.highlightValid)return!0}return null},validate:function(){var e=this;this.validation&&this.$debouncer({handler:function(){e.validation.$touch()},time:this.debounce})}},created:function(){this.$debouncer=Object(s.createDebouncer)()}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form-group",{attrs:{horizontal:"","label-cols":"3",label:e.$t(e.label),state:e.isValid(),"invalid-feedback":e.$t(e.invalidFeedback)}},[n("b-form-input",{attrs:{type:e.type,placeholder:e.placeholder,state:e.isValid()},nativeOn:{input:function(t){e.validate()}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),e._v(" "),e.text?n("b-form-text",{directives:[{name:"t",rawName:"v-t",value:e.text,expression:"text"}]}):e._e()],1)},staticRenderFns:[]},r=n("VU/8")(a,i,!1,null,null,null);t.a=r.exports}},["NHnr"]);
//# sourceMappingURL=app.c81457780563937020c7.js.map