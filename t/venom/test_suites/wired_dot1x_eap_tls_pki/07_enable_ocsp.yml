name: Enable OCSP
testcases:
- name: create_ocsp_profile
  steps:
  - type: pf_api_radiusd_ocsp_profiles_create
    id: "{{.wired_dot1x_eap_tls_manual.ocsp.id}}"
    ocsp_enable: "{{.wired_dot1x_eap_tls_manual.ocsp.enable}}"
    ocsp_url: "{{.wired_dot1x_eap_tls_manual.ocsp.url}}"        
    ocsp_override_cert_url: "{{.wired_dot1x_eap_tls_manual.ocsp.override_cert_url}}"
    ocsp_softfail: "{{.wired_dot1x_eap_tls_manual.ocsp.softfail}}"
    ocsp_timeout: "{{.wired_dot1x_eap_tls_manual.ocsp.timeout}}"
    ocsp_use_nonce: "{{.wired_dot1x_eap_tls_manual.ocsp.use_nonce}}"

- name: update_tls_common_profile
  steps:
  - type: pf_api_radiusd_tls_profile_patch
    id: 'tls-common'
    ocsp_id: "{{.wired_dot1x_eap_tls_manual.ocsp.id}}"
